{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Tournament lobby app with user profile, wallet system, and registration/payment flow. Features include profile icon with side menu (account details, wallet balance, deposit/withdraw), Join Now action linking to Registration/Payment page, and proper back navigation to Live Lobby.",
  "architectural_notes": [],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-on-the-lobbypage-ensure-that-clicking-the-join-now-button-on-any-tournament-card-navigates-the-user-to-the-registration-payment-page-register-the-tournamentcard-and-roomcard-components-must-both-route-to-register-on-button-click",
      "title": "On the LobbyPage, ensure that clicking the 'Join Now' button on any tournament card navigates the user to the Registration/Payment page (/register). The TournamentCard and RoomCard components must both route to '/register' on button click.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-profile-icon-button-at-the-top-right-corner-of-the-lobbypage-header-the-icon-should-be-a-recognizable-user-avatar-icon-styled-consistently-with-the-dark-red-black-gaming-theme",
      "title": "Add a User Profile icon button at the top-right corner of the LobbyPage header. The icon should be a recognizable user/avatar icon styled consistently with the dark red/black gaming theme.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-profilepage-or-slide-in-side-drawer-panel-that-opens-when-the-profile-icon-is-clicked-it-must-contain-1-account-details-section-showing-the-logged-in-player-name-and-uid-free-fire-uid-from-auth-state-localstorage-2-wallet-section-displaying-current-balance-formatted-as-0-00-3-two-action-buttons-deposit-and-withdraw-4-a-terms-conditions-link-that-navigates-to-the-rules-page-rules-the-profile-view-must-have-its-own-route-profile-or-be-accessible-as-an-overlay-from-lobby",
      "title": "Create a ProfilePage (or slide-in side drawer/panel) that opens when the profile icon is clicked. It must contain: (1) Account Details section showing the logged-in Player Name and UID (Free Fire UID from auth state/localStorage), (2) Wallet section displaying current balance formatted as â‚¹0.00, (3) Two action buttons: 'Deposit' and 'Withdraw', (4) A 'Terms & Conditions' link that navigates to the Rules page (/rules). The profile view must have its own route (/profile) or be accessible as an overlay from /lobby.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-back-button-on-both-the-profilepage-and-the-registerpage-always-navigates-the-user-back-to-the-live-lobby-lobby-never-to-the-login-or-welcome-page-use-router-navigate-lobby-or-history-replacement-to-enforce-this-consistent-with-the-existing-back-navigation-pattern-in-registerpage",
      "title": "Ensure the 'Back' button on both the ProfilePage and the RegisterPage always navigates the user back to the Live Lobby (/lobby), never to the login or welcome page. Use router.navigate('/lobby') or history replacement to enforce this, consistent with the existing back-navigation pattern in RegisterPage.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-profile-route-to-the-tanstack-router-configuration-in-app-tsx-with-the-same-auth-guard-pattern-as-other-protected-routes-redirect-unauthenticated-users-away-allow-authenticated-users-in",
      "title": "Add the /profile route to the TanStack Router configuration in App.tsx with the same auth guard pattern as other protected routes (redirect unauthenticated users away, allow authenticated users in).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Join Now button on tournament cards opens Registration/Payment page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add User Profile icon at top-right of Live Lobby",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Profile menu with Account Details (Player Name, UID), Wallet balance, Deposit & Withdraw buttons, and Terms & Conditions link",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Back button from Profile or Registration page returns to Live Lobby, not login screen",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add a wallet balance field to the backend User type in main.mo (e.g., walletBalance: Float defaulting to 0.0). Expose query and update functions: getWalletBalance(uid: Text) -> Float and deposit/withdraw stubs that adjust the balance (with basic validation: no negative balance on withdraw).",
      "reqIds": [
        "REQ-4"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Free Fire Tournament",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}